document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("tipoServico"),t=document.getElementById("marcaContainer"),n=document.getElementById("marca"),a=document.getElementById("precisaBuscar"),o=document.getElementById("enderecoContainer"),d=document.getElementById("sabeProblema"),c=document.getElementById("problemaContainer"),m=document.getElementById("maquinaContainer"),i=document.getElementById("maquina"),r=document.getElementById("outraMarcaContainer"),u=document.getElementById("outraMarca"),l=document.getElementById("serviceForm"),s=document.getElementById("btnEnviar"),v={"Conserto de Betoneiras":["Menegotti","CSM","Maqtron","Horbach","Possamai","Fischer","Metalpama","Toyama","Outra..."],"Conserto de máquinas elétricas":["Bosch","Makita","Menegotti","CSM","Outra..."],"Conserto de máquinas a combustão":["Menegotti","CSM","Webber","Wolcan","Toyama","Branco","Petrotec","Outra..."]};e.addEventListener("change",(function(){const a=e.value;r.classList.add("d-none"),u.required=!1,u.value="","Conserto de máquinas elétricas"===a||"Conserto de máquinas a combustão"===a?m.classList.remove("d-none"):(m.classList.add("d-none"),i.value=""),a?(n.innerHTML='<option value="">Selecione...</option>',v[a].forEach((e=>{const t=document.createElement("option");t.value=e.toLowerCase(),t.textContent=e,n.appendChild(t)})),t.classList.remove("d-none")):t.classList.add("d-none")})),n.addEventListener("change",(function(){"outra..."===n.value?(r.classList.remove("d-none"),u.required=!0):(r.classList.add("d-none"),u.required=!1,u.value="")})),a.addEventListener("change",(function(){o.classList.toggle("d-none",!a.checked)})),d.addEventListener("change",(function(){c.classList.toggle("d-none",!d.checked)})),l.addEventListener("input",(function(){const t=""!==document.getElementById("nomeCliente").value.trim(),o=""!==e.value,c=""!==n.value,r=!a.checked||""!==document.getElementById("rua").value.trim()&&""!==document.getElementById("bairro").value.trim()&&""!==document.getElementById("numero").value.trim()&&""!==document.getElementById("cidade").value.trim(),u=!d.checked||""!==document.getElementById("descricaoProblema").value.trim(),l=m.classList.contains("d-none")||""!==i.value.trim();s.disabled=!(t&&o&&c&&r&&u&&l)})),l.addEventListener("submit",(function(t){t.preventDefault();const o=document.getElementById("nomeCliente").value.trim(),c=e.value,r="outra..."===n.value?u.value.trim():n.value,l=m.classList.contains("d-none")?"":` - *Máquina:* ${i.value.trim()}\n`,s=a.checked?`${document.getElementById("rua").value}, Nº ${document.getElementById("numero").value}, ${document.getElementById("bairro").value}, ${document.getElementById("cidade").value}`:"Levarei até a loja",v=d.checked?document.getElementById("descricaoProblema").value.trim():"Não sei identificar",g=`https://wa.me/5544997687380?text=${encodeURIComponent(`Olá, meu nome é *${o}*!\n\nGostaria de solicitar um orçamento para *${c}*.\n\n - *Marca:* ${r}\n${l} - *Endereço:* ${s}\n - *Problema:* ${v}\n\nFico no aguardo do retorno. Obrigado(a)!\n\nAtenciosamente,\n${o}`)}`;window.open(g,"_blank")}))}));